<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style2.css" />
    <title>Document</title>
  </head>
  <body>
    <form class="search-form">
      <!-- Numbet -->
      <input type="text" class="number" placeholder="1,000,000" />
      <!-- Select -->
      <div class="select-container">
      Region: <select id ='region'>
        <option value = "Asia">Asia</option>
        <option value = "Africa">Africa</option>
        <option value = "Europe">Europe</option>
        <option value = "Oceania">Oceania</option>
        <option value = "Americas">Americas</option>
     </select>
    </div>
        <!-- ******Submit****** -->
      <input class="btn" type="submit" value="Find Population" />
      </div>
    </form>
    <div class="output-contianer">
    <ul class="output"></ul>
  </div>
    <script>
      const number = document.querySelector(".number");
      const btn = document.querySelector(".btn");
      const output = document.querySelector(".output");
      let num = "";
      const url = "https://restcountries.eu/rest/v2/all";
      let countries = [];

      fetch(url)
        .then((res) => res.json())
        .then((data) => countries.push(...data))
        .catch((error) => console.log(error));

      btn.addEventListener("click", numFunc);

      function numFunc(e, num) {
        e.preventDefault();
        num = number.value;
        let region = document.getElementById('region').value;
        let newArr = countries.filter((country) => country.population > num && country.region === region).map(namepop => `<li class="outputItem">${namepop.name}: ${numberWithCommas(namepop.population)}</li>`).join('');
        output.innerHTML = newArr
      }

      function numberWithCommas(x) {
        return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
      }
    </script>
  </body>
</html>





